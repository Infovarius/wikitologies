<!DOCTYPE html>
<html lang="en">
<head>
    <title>[BETA]</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-tagsinput@0.7.1/src/bootstrap-tagsinput.min.css">

    <style>
        html, body {
            height: 100%
        }

        .bootstrap-tagsinput {
            width: 100%;
        }

        .label {
            display: inline;
            padding: .3em;
            font-size: 75%;
            font-weight: 700;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: .25em;
        }

        .label-info {
            background-color: #5cb85c;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-tagsinput@0.7.1/src/bootstrap-tagsinput.min.js"></script>
    <script>
        $(window).on("load", function () {
            $("#titles").on("itemAdded itemRemoved", function () {
                setURL();
                $("#submit").prop("disabled", $("#titles").val().length === 0);
            });
            $("#lang").change(function () {
                setURL();
            });
            $("#strict").change(function () {
                setURL();
            });
        });

        function setURL() {
            let url = "/" + $("#titles").val().join("+") + "@" + $("#lang").val();
            if ($("#strict").prop("checked")) {
                url += "?" + "strict=true";
            }
            $("#form").prop("action", url);
        }
    </script>
</head>

<body>
<div class="container h-100">
    <div class="row h-100 justify-content-center align-items-center">
        <div class="col">
            <h1 class="display-4">wikitologies</h1>
            <p>[description]</p>

            <form id="form" method="post">
                <div class="form-row">
                    <div class="col">
                        <select id="titles" multiple class="form-control" data-role="tagsinput"></select>
                    </div>
                </div>

                <div class="form-row mt-3 justify-content-center align-items-center">
                    <div class="col">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <label class="input-group-text" for="lang">Язык</label>
                            </div>
                            <select id="lang" class="form-control custom-select">
                                {{range .}}
                                    <option>{{.}}</option>
                                {{end}}
                            </select>
                        </div>
                    </div>

                    <div class="col-auto">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="strict">
                            <label class="form-check-label" for="strict">"Строгий" режим</label>
                        </div>
                    </div>

                    <div class="col-auto">
                        <button id="submit" type="submit" class="btn btn-dark" disabled>Построить</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>